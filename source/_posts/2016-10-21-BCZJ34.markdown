---
layout:     post
title:      "数据决定程序结构 && 编写正确的程序"
tags:
    - 编程珠玑
---

> “文字较多”


## 前言

三四章的说明性内容较多，就放在一起来写吧。


---

## 正文

第三章说明了数据对程序的决定性，正如书中的原话所说 **(数据的)表示形式是程序设计的根本**。

这让我不由的想起之前做某道OJ题，看到某大牛提供的答案因为巧妙利用了输入数据的性质而在线性的时间AC，当时居然有点觉得这是奇技淫巧，不可取。NAIVE！

当程序有很多重复部分时，我们可以使用**格式编程**，可以使得代码简洁易于维护。当然，书中也鼓励我们使用已有的轮子，节约时间与代码量。

第四章着重于对程序的理解以及对**程序正确性**的证明。

书中花了大量篇幅论述了二分搜索的**停机证明**。个人感觉，要证明自己程序的正确性其实并不容易，比如第四章exe5。

下面是两道练习题

### Chapter 4 exe2 

> 如果原始的二分搜索对你来说太过容易，那么请试试这个演化后的版本：把 t 在数组中第一次出现的位置返回给 p。要求代码对数组元素进行对数次比较（该任务可以在 log2(n) 次比较之内完成）。

``` c++
// a是排序好的数组，l,r 为左右界，t为查找的数
int BinarySearch(int *a, int l, int r, int t)
{
	while(l <= r)
	{
		if(a[l] == t) return l;
		int mid = (l+r) / 2;
		if(a[mid] < t) l = mid + 1;
		if(a[mid] == t) r = mid;
		if(a[mid] > t) r = mid - 1;
	}
	return -1;  //not find return -1
}
```
思路很好理解，因为我们要找最先出现的位置，那么我们总是要寻找尽量靠左的部分，于是我们每次都尽可能往左递归。

### Chapter 4 exe5

> 证明下面的程序在输入 x 为正整数时能够终止。

``` c++
while x != 1 do
	if even(x)
		x = x/2
	else
		x = 3*x + 1
```

这题开始感觉挺简单的，后来愈发感觉不对劲，上网查了查发现这是一个著名的数学猜想，名字比较多，就取其中一个通用的，叫它3x+1问题好了。（感觉作者把这个题放在这里略不厚道）

网上的证明众说纷纭啊，暂时先放下0.0
